<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HttpServerBoxed: Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="icon-64.png"/></td>
  <td id="projectalign">
   <div id="projectname">HttpServerBoxed<span id="projectnumber">&#160;0.0.6 alpha</span>
   </div>
   <div id="projectbrief">A simple http server for C# and .NET</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__documentation_2_library.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Library</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="library"></a>Here will be explained how to use the core library (HSB.dll)</p>
<h2><a class="anchor" id="basic-information"></a>
Basic information</h2>
<p>This information is up to date until commit <a href="https://github.com/lorenzoconcas/HSB/commit/6a776ade800e7d323a00361c02a2a300b71d5066">6a776ad</a></p>
<p>To include the library you must follow your IDE instruction</p>
<p>Although <a class="el" href="namespace_h_s_b.html">HSB</a> is primarily intended for creating complete standalone web servers, it is possible to integrate the library into other types of projects</p>
<p>There are two fundamental components to make it run, the Configuration class and the Server class. The first holds any information about the server and the second effectively run the server itself. The Server class expects a configuration to be instantied and to run. So the minimal code to run the server is something like:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"> </div>
<div class="line">Configuration c = <span class="keyword">new</span>();</div>
<div class="line"><span class="keyword">new</span> Server(c).Start();</div>
<div class="ttc" id="anamespace_h_s_b_html"><div class="ttname"><a href="namespace_h_s_b.html">HSB</a></div><div class="ttdef"><b>Definition</b> BindingAttribute.cs:3</div></div>
</div><!-- fragment --> <hr  />
 <h2><a class="anchor" id="the-configuration-class"></a>
The Configuration Class</h2>
<p>The default Configuration constructor holds the following properties:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Property name   </th><th class="markdownTableHeadNone">Default value   </th><th class="markdownTableHeadNone">C# Type   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>address</code>   </td><td class="markdownTableBodyNone"><code>127.0.0.1</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyLeft">The server will be visibile only to the running machine, to expose it to the network you must provide a valid ip address or pass an empty string (?)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>port</code>   </td><td class="markdownTableBodyNone"><code>8080</code>   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyLeft">The listening port of the server    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>staticFolderPath</code>   </td><td class="markdownTableBodyNone"><code>./static</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyLeft">This is the folder where the server will attempt to find public files    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>requestMaxSize</code>   </td><td class="markdownTableBodyNone"><code>1024</code> (1MB)   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyLeft">Set the max size of an HTTP request    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>verbose</code>   </td><td class="markdownTableBodyNone"><code>true</code>   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyLeft">Whether or not print the log to the console    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>defaultSessionExpirationTime</code>   </td><td class="markdownTableBodyNone"><code>true</code>   </td><td class="markdownTableBodyNone">long   </td><td class="markdownTableBodyLeft">The lifespan in Ticks of the Session   </td></tr>
</table>
<p>The configuration class provides also some utilities, like object sharing between servlets (so you can avoid to use the singleton tecnique) and global headers (used to append custom headers to ALL responses)</p>
<h4><a class="anchor" id="shared-objects"></a>
Shared Objects</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>void AddSharedObject(string, object)</code>   </td><td class="markdownTableBodyNone">Add an object shared between all servlet    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>object GetSharedObject(string)</code>   </td><td class="markdownTableBodyNone">Get an object shared between all servlet    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>object RemoveSharedObject(string)</code>   </td><td class="markdownTableBodyNone">Remove an object shared between all servlet   </td></tr>
</table>
<h4><a class="anchor" id="global-headers"></a>
Global Headers</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>void AddCustomGlobalHeader(string, string)</code>   </td><td class="markdownTableBodyNone">Add an HTTP Response header that will be added to ALL the responses    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>void RemoveCustomGlobalHeader(string, string)</code>   </td><td class="markdownTableBodyNone">Remove a global HTTP Response header previously added    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>void GetCustomGlobalHeader(string, string)</code>   </td><td class="markdownTableBodyNone">Gets the value of a global HTTP Response header previously added    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>void Dictionary&lt;string, string&gt; GetCustomGlobalHeaders</code>   </td><td class="markdownTableBodyNone">Gets all globabl HTTP Response headers   </td></tr>
</table>
<h4><a class="anchor" id="global-cookies"></a>
Global Cookies</h4>
<p>Cookies added to each request</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>void AddCustomGlobalCookie(string, string)</code>   </td><td class="markdownTableBodyNone">Add (Or replaces) a cookie that will be added to ALL the responses    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>void RemoveCustomGlobalCookie(string, string)</code>   </td><td class="markdownTableBodyNone">Remove a global cookie previously added    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>void GetCustomGlobalCookie(string, string)</code>   </td><td class="markdownTableBodyNone">Gets the value of a global cookie previously added    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>void Dictionary&lt;string, string&gt; GetCustomGlobalCookies</code>   </td><td class="markdownTableBodyNone">Gets all global cookies   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="api--faq"></a>
API &amp; F.A.Q.</h1>
<p><a class="el" href="namespace_h_s_b.html">HSB</a> provides different function to create routes and to send replys to the client</p>
<h2><a class="anchor" id="how-to-define-a-route"></a>
How to define a route?</h2>
<p>There are two ways, one is like the nodejs library ExpressJS, the other is follows a more classical approach.</p>
<h2><a class="anchor" id="expressjs-like"></a>
ExpressJS-like</h2>
<p>The configuration class provides 5 methods to handle the various HTTP methods : <code>GET; POST; HEAD; PUT; DELETE; PATCH; TRACE; OPTIONS; CONNECT</code> These methods require two arguments, one is the path and the other one is a delegate that will handle the call. Example:</p>
<div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"><a class="code hl_class" href="class_h_s_b_1_1_configuration.html">Configuration</a> c = <span class="keyword">new</span>();</div>
<div class="line">c.GET(<span class="stringliteral">&quot;/&quot;</span>, (<a class="code hl_class" href="class_h_s_b_1_1_request.html">Request</a> req, <a class="code hl_class" href="class_h_s_b_1_1_response.html">Response</a> res) =&gt;{</div>
<div class="line">    res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#aa81e15ce9ff09b6d1a4fbaeb015198b4">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">});</div>
<div class="line"><span class="keyword">new</span> <a class="code hl_class" href="class_h_s_b_1_1_server.html">Server</a>(c).Start();</div>
<div class="ttc" id="aclass_h_s_b_1_1_configuration_html"><div class="ttname"><a href="class_h_s_b_1_1_configuration.html">HSB.Configuration</a></div><div class="ttdoc">This class contains all the settings of the server.</div><div class="ttdef"><b>Definition</b> Configuration.cs:11</div></div>
<div class="ttc" id="aclass_h_s_b_1_1_request_html"><div class="ttname"><a href="class_h_s_b_1_1_request.html">HSB.Request</a></div><div class="ttdef"><b>Definition</b> Request.cs:9</div></div>
<div class="ttc" id="aclass_h_s_b_1_1_response_html"><div class="ttname"><a href="class_h_s_b_1_1_response.html">HSB.Response</a></div><div class="ttdef"><b>Definition</b> Response.cs:13</div></div>
<div class="ttc" id="aclass_h_s_b_1_1_response_html_aa81e15ce9ff09b6d1a4fbaeb015198b4"><div class="ttname"><a href="class_h_s_b_1_1_response.html#aa81e15ce9ff09b6d1a4fbaeb015198b4">HSB.Response.SendHTMLContent</a></div><div class="ttdeci">void SendHTMLContent(string content, bool process=false, string encoding=&quot;UTF-8&quot;, Dictionary&lt; string, string &gt;? customHeaders=null, int statusCode=200)</div><div class="ttdoc">Sends an html page passed as string.</div><div class="ttdef"><b>Definition</b> Response.cs:89</div></div>
<div class="ttc" id="aclass_h_s_b_1_1_server_html"><div class="ttname"><a href="class_h_s_b_1_1_server.html">HSB.Server</a></div><div class="ttdef"><b>Definition</b> Server.cs:9</div></div>
</div><!-- fragment --><p>will route the index page to that delegate, printing 'Hello World' while visiting the root page</p>
<p>Note that custom HTTP Methods are not supported by this routing style, therefore the Servlet method must be used</p>
<h2><a class="anchor" id="classic-method"></a>
"Classic" method</h2>
<p>To create a routing in the classic method you create a class that extends the Servlet base class, the constructor MUST have two parameters : Request and Response, and pass them to the base class The new class also needs the <b>Binding attribute,</b> that requires a string (the path) and optionally a boolean indicating whether or not that servlet must handle all routes starting with the given path. Example:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_test.html">Test</a>{</div>
<div class="line">    [<a class="code hl_class" href="class_h_s_b_1_1_binding.html">Binding</a>(<span class="stringliteral">&quot;/&quot;</span>)]</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>Route: <a class="code hl_class" href="class_h_s_b_1_1_servlet.html">Servlet</a>{</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> Route(<a class="code hl_class" href="class_h_s_b_1_1_request.html">Request</a> req, <a class="code hl_class" href="class_h_s_b_1_1_response.html">Response</a> res): base(req, res){}</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> ProcessGet()</div>
<div class="line">        {</div>
<div class="line">             res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#aa81e15ce9ff09b6d1a4fbaeb015198b4">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    </div>
<div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> ProcessPost()</div>
<div class="line">        {</div>
<div class="line">            res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#aa81e15ce9ff09b6d1a4fbaeb015198b4">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_h_s_b_1_1_binding_html"><div class="ttname"><a href="class_h_s_b_1_1_binding.html">HSB.Binding</a></div><div class="ttdoc">Defines the path of the servlet, optionally it can catch ALL the requests that search for path starti...</div><div class="ttdef"><b>Definition</b> BindingAttribute.cs:10</div></div>
<div class="ttc" id="aclass_h_s_b_1_1_servlet_html"><div class="ttname"><a href="class_h_s_b_1_1_servlet.html">HSB.Servlet</a></div><div class="ttdef"><b>Definition</b> Servlet.cs:4</div></div>
<div class="ttc" id="anamespace_test_html"><div class="ttname"><a href="namespace_test.html">Test</a></div><div class="ttdef"><b>Definition</b> Servlet.cs:4</div></div>
</div><!-- fragment --><p>This class maps to the root path and responds to the GET and POST methods, <b>other methods reply, by default, with code 405 (Method not allowed)</b></p>
<p>Additionally the Servlet can have one more argument in is constructor, the configuration:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_test.html">Test</a>{</div>
<div class="line">    [<a class="code hl_class" href="class_h_s_b_1_1_binding.html">Binding</a>(<span class="stringliteral">&quot;/&quot;</span>)]</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>Route: <a class="code hl_class" href="class_h_s_b_1_1_servlet.html">Servlet</a>{</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> Route(<a class="code hl_class" href="class_h_s_b_1_1_request.html">Request</a> req, <a class="code hl_class" href="class_h_s_b_1_1_response.html">Response</a> res, <a class="code hl_class" href="class_h_s_b_1_1_configuration.html">Configuration</a> c): base(req, res, c){}</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> ProcessGet()</div>
<div class="line">        {</div>
<div class="line">             res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#aa81e15ce9ff09b6d1a4fbaeb015198b4">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    </div>
<div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> ProcessPost()</div>
<div class="line">        {</div>
<div class="line">            res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#aa81e15ce9ff09b6d1a4fbaeb015198b4">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="custom-method-handling"></a>
Custom method handling</h2>
<p>To handle a request with a non standard HTTP Request method, yuor server must map the handler function. For example: </p><div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_test.html">Test</a>{</div>
<div class="line">    [<a class="code hl_class" href="class_h_s_b_1_1_binding.html">Binding</a>(<span class="stringliteral">&quot;/&quot;</span>)]</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>Route: <a class="code hl_class" href="class_h_s_b_1_1_servlet.html">Servlet</a>{</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> Route(<a class="code hl_class" href="class_h_s_b_1_1_request.html">Request</a> req, <a class="code hl_class" href="class_h_s_b_1_1_response.html">Response</a> res, <a class="code hl_class" href="class_h_s_b_1_1_configuration.html">Configuration</a> c): base(req, res, c){</div>
<div class="line">            AddCustomMethodHandler(<span class="stringliteral">&quot;MyCustomHTTPMethod&quot;</span>, ProcessMyCustomHTTPMethod);</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">private</span> <span class="keywordtype">void</span> ProcessMyCustomHTTPMethod()</div>
<div class="line">        {</div>
<div class="line">            res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#aa81e15ce9ff09b6d1a4fbaeb015198b4">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>This code will handle ONLY the requests that have the method "MyCustomHTTPMethod". Example request header: </p><div class="fragment"><div class="line">MyCustomHTTPMethod / HTTP/1.1</div>
</div><!-- fragment --><h1><a class="anchor" id="the-request-class"></a>
The Request Class</h1>
<p>In this class there are some utilities to better handle the request itself</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>HTTP_METHOD METHOD</code>   </td><td class="markdownTableBodyNone">Property   </td><td class="markdownTableBodyLeft">Returns an enum reppresentating the request method    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>HTTP_PROTOCOL PROTOCOL</code>   </td><td class="markdownTableBodyNone">Property   </td><td class="markdownTableBodyLeft">Returns an enum reppresentating the request protocol    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>string URL</code>   </td><td class="markdownTableBodyNone">Property   </td><td class="markdownTableBodyLeft">Returns the request URL    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>string RawBody</code>   </td><td class="markdownTableBodyNone">Property   </td><td class="markdownTableBodyLeft">Returns the raw request body (useful in case like json ecc)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Dictionary&lt;string, string&gt; GetHeaders</code>   </td><td class="markdownTableBodyNone">Property   </td><td class="markdownTableBodyLeft">Returns the parsed headers of the request    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>List&lt;string&gt; GetRawHeaders</code>   </td><td class="markdownTableBodyNone">Property   </td><td class="markdownTableBodyLeft">Returns the raw headers of the request    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Dictionary&lt;string, string&gt; GetParameters</code>   </td><td class="markdownTableBodyNone">Property   </td><td class="markdownTableBodyLeft">Returns the parameters present in the URL    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Session GetSession()</code>   </td><td class="markdownTableBodyNone">Function   </td><td class="markdownTableBodyLeft">Returns the session associated with the request    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>bool IsJSON()</code>   </td><td class="markdownTableBodyNone">Function   </td><td class="markdownTableBodyLeft">Returns whether a request contains a json file or not   </td></tr>
</table>
<h1><a class="anchor" id="the-session-class"></a>
The Session Class</h1>
<p>A session is created every time a request without the cookie "hsbst" is made.</p>
<h1><a class="anchor" id="the-response-class"></a>
The Response Class</h1>
<h3><a class="anchor" id="included-methods"></a>
Included methods</h3>
<h4><a class="anchor" id="complex-methods"></a>
Complex methods</h4>
<p>These methods are more used by the library then by users, but are still available, for example user can bypass the entire elaboration usually made by the library and send what it wants to the client. All methods have void return type, so it's omitted here.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Send(byte[])</code>   </td><td class="markdownTableBodyNone">Sends a byte array as response    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Send(string, string?, int, Dictionary&lt;string, string&gt;)</code>   </td><td class="markdownTableBodyNone">Sends a string a content, with optional mimetype, custom status code (default is 200), optional custom headers    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Send(int)</code>   </td><td class="markdownTableBodyNone">Send a response with empty body and custom status code, short-hand for SendCode(int)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SendCode(int)</code>   </td><td class="markdownTableBodyNone">Like Send(int)   </td></tr>
</table>
<h4><a class="anchor" id="shorts-and-for-common-http-status-response-codes"></a>
Shorts and for common HTTP Status response codes</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>E400()</code>   </td><td class="markdownTableBodyNone">Shorthand for SendCode(400)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>E401()</code>   </td><td class="markdownTableBodyNone">Shorthand for SendCode(401)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>E404()</code>   </td><td class="markdownTableBodyNone">Shorthand for SendCode(404)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>E500()</code>   </td><td class="markdownTableBodyNone">Shorthand for SendCode(500)   </td></tr>
</table>
<h4><a class="anchor" id="common-methods"></a>
Common methods</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SendHTMLPage(string, bool, Dictionary&lt;string, string&gt;?)</code>   </td><td class="markdownTableBodyNone">Sends and HTML Page loaded from disk as given path, optionally processes it (default false), optional custom headers    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SendHTMLContent(string, bool, string, Dictionary&lt;string, string&gt;?)</code>   </td><td class="markdownTableBodyNone">Sends an HTML content, optional processing, optional custom headers, is analog to SendHTMLPage but content is passed as parameter    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SendFile(string, string?, int, Dictionary&lt;string, string&gt;?)</code>   </td><td class="markdownTableBodyNone">Send a file loaded from the given path (absolute), optional mimetype (default autodetected), optionl headers    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SendFile(byte[] data, string?, int, Dictionary&lt;string, string&gt;?)</code>   </td><td class="markdownTableBodyNone">Same as the other SendFile, but instead of path takes the byte array to be sent   </td></tr>
</table>
<p><a class="anchor" id="json-related-response-methods"></a> </p><h5>JSON-related response methods</h5>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>JSON(string)</code>   </td><td class="markdownTableBodyNone">Sends a string as JSON    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>JSON&lt;T&gt;(T, bool)</code>   </td><td class="markdownTableBodyNone">Sends an object that will be serialized and sent as JSON string, boolean to set if include fields or not, default true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>JSON&lt;T&gt;(T, JsonSerializerOptions)</code>   </td><td class="markdownTableBodyNone">Same as JSON&lt;T&gt;(T, bool) but with possibily to set option of the serializer    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SendJSON(string)</code>   </td><td class="markdownTableBodyNone">Not-so shorthand for JSON(string)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SendJSON&lt;T&gt;(T, bool)</code>   </td><td class="markdownTableBodyNone">Not-so shorthand for JSON&lt;T&gt;(T, bool)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>SendJSON&lt;T&gt;(T, JsonSerializerOptions)</code>   </td><td class="markdownTableBodyNone">Not-so shorthand for JSON&lt;T&gt;(T, JsonSerializerOptions)   </td></tr>
</table>
<p><a class="anchor" id="html-processing-related-response-methods"></a> </p><h5>HTML-processing related response methods</h5>
<p>Methods realated to the process of the HTML files, it works like JSP SetAttribute The values inside this characters: #{} will be replaced</p>
<div class="fragment"><div class="line">res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#a28441b69e0487b1e5231c0f9d4f7571d">AddAttribute</a>(<span class="stringliteral">&quot;valueToBeReplaced&quot;</span>, <span class="stringliteral">&quot;value&quot;</span>);</div>
<div class="ttc" id="aclass_h_s_b_1_1_response_html_a28441b69e0487b1e5231c0f9d4f7571d"><div class="ttname"><a href="class_h_s_b_1_1_response.html#a28441b69e0487b1e5231c0f9d4f7571d">HSB.Response.AddAttribute</a></div><div class="ttdeci">void AddAttribute(string name, string value)</div><div class="ttdoc">Adds an attribute to the HTML file that will be processed.</div><div class="ttdef"><b>Definition</b> Response.cs:318</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">&lt;h1&gt;#{valueToBeReplaced}&lt;/h1&gt;</div>
</div><!-- fragment --><p> Will result In :</p>
<div class="fragment"><div class="line">&lt;h1&gt;value&lt;/h1&gt;</div>
</div><!-- fragment --><p> An example usage of this function is in the default pages of the server, located at HSB.DefaultPages, in the classes Index.cs and Error.cs, where the <a class="el" href="namespace_h_s_b.html">HSB</a> version is set this way</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Signature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>AddAttribute(string, string)</code>   </td><td class="markdownTableBodyNone">Adds a parameter to be replaced with the given value    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>RemoveAttribute(string)</code>   </td><td class="markdownTableBodyNone">Remove a parameter    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>GetAttribute(string)</code>   </td><td class="markdownTableBodyNone">Retrieves the value of the given parameter name   </td></tr>
</table>
<h2><a class="anchor" id="examples"></a>
Examples</h2>
<p>You can use the <a class="el" href="namespace_test_runner.html">TestRunner</a> project as example, more will be added in future </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>

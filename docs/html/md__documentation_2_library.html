<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HttpServerBoxed: Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extracssfordocumentation.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">HttpServerBoxed<span id="projectnumber">&#160;0.0.11 alpha</span>
   </div>
   <div id="projectbrief">A simple http server for C# and .NET</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__documentation_2_library.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Library</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="library"></a>Here will be explained how to use the core library (HSB.dll)</p>
<h2><a class="anchor" id="basic-information"></a>
Basic information</h2>
<p>This information is up to date until commit <a href="https://github.com/lorenzoconcas/HSB/commit/1da2a6f0a73124c63f5853276c6f6b3bcef7af64">1da2a6f</a> (5 November 2023)</p>
<p>To include the library you must follow your IDE instruction</p>
<p>Although <a class="el" href="namespace_h_s_b.html">HSB</a> is primarily intended for creating complete standalone web servers, it is possible to integrate the library into other types of projects</p>
<p>There are two fundamental components to make it run, the Configuration class and the Server class. The first holds any information about the server and the second effectively run the server itself. The Server class expects a configuration to be instantied and to run. So the minimal code to run the server is something like:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"> </div>
<div class="line">Configuration c = <span class="keyword">new</span>();</div>
<div class="line"><span class="keyword">new</span> Server(c).Start();</div>
<div class="ttc" id="anamespace_h_s_b_html"><div class="ttname"><a href="namespace_h_s_b.html">HSB</a></div><div class="ttdef"><b>Definition</b> <a href="_curl_8cs_source.html#l00007">Curl.cs:7</a></div></div>
</div><!-- fragment --> <hr  />
<p>This will make the server listen to any address (IPv4 and IPv6) on port 8080 All parameters are documented <a class="el" href="md__documentation_2_configuration.html">here</a></p>
<h1><a class="anchor" id="api--quick-faq"></a>
API &amp; Quick F.A.Q.</h1>
<h2><a class="anchor" id="how-to-define-a-route"></a>
How to define a route?</h2>
<p>There are two ways, one is like the nodejs library ExpressJS, the other is follows a more classical approach.</p>
<h2><a class="anchor" id="expressjs-like"></a>
ExpressJS-like</h2>
<p>The configuration class provides 9 methods to handle the various HTTP methods : <code>GET; POST; HEAD; PUT; DELETE; PATCH; TRACE; OPTIONS; CONNECT</code> These methods require two arguments, one is the path and the other one is a delegate that will handle the call. Example:</p>
<div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"><a class="code hl_class" href="class_h_s_b_1_1_configuration.html">Configuration</a> c = <span class="keyword">new</span>();</div>
<div class="line">c.GET(<span class="stringliteral">&quot;/&quot;</span>, (<a class="code hl_class" href="class_h_s_b_1_1_request.html">Request</a> req, <a class="code hl_class" href="class_h_s_b_1_1_response.html">Response</a> res) =&gt;{</div>
<div class="line">    res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#a95d557def4c8f20e9bcf69731ea94676">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">});</div>
<div class="line"><span class="keyword">new</span> <a class="code hl_class" href="class_h_s_b_1_1_server.html">Server</a>(c).Start();</div>
<div class="ttc" id="aclass_h_s_b_1_1_configuration_html"><div class="ttname"><a href="class_h_s_b_1_1_configuration.html">HSB.Configuration</a></div><div class="ttdoc">This class contains all the settings of the server.</div><div class="ttdef"><b>Definition</b> <a href="_configuration_8cs_source.html#l00011">Configuration.cs:12</a></div></div>
<div class="ttc" id="aclass_h_s_b_1_1_request_html"><div class="ttname"><a href="class_h_s_b_1_1_request.html">HSB.Request</a></div><div class="ttdef"><b>Definition</b> <a href="_request_8cs_source.html#l00010">Request.cs:11</a></div></div>
<div class="ttc" id="aclass_h_s_b_1_1_response_html"><div class="ttname"><a href="class_h_s_b_1_1_response.html">HSB.Response</a></div><div class="ttdef"><b>Definition</b> <a href="_response_8cs_source.html#l00014">Response.cs:15</a></div></div>
<div class="ttc" id="aclass_h_s_b_1_1_response_html_a95d557def4c8f20e9bcf69731ea94676"><div class="ttname"><a href="class_h_s_b_1_1_response.html#a95d557def4c8f20e9bcf69731ea94676">HSB.Response.SendHTMLContent</a></div><div class="ttdeci">void SendHTMLContent(string content, bool process=false, int statusCode=HTTP_CODES.OK, string encoding=&quot;UTF-8&quot;, Dictionary&lt; string, string &gt;? customHeaders=null)</div><div class="ttdoc">Sends an html page passed as string.</div><div class="ttdef"><b>Definition</b> <a href="_response_8cs_source.html#l00110">Response.cs:110</a></div></div>
<div class="ttc" id="aclass_h_s_b_1_1_server_html"><div class="ttname"><a href="class_h_s_b_1_1_server.html">HSB.Server</a></div><div class="ttdef"><b>Definition</b> <a href="_server_8cs_source.html#l00015">Server.cs:16</a></div></div>
</div><!-- fragment --><p>will route the index page to that delegate, printing 'Hello World' while visiting the root page</p>
<p>Note that custom HTTP Methods are not supported by this routing style, therefore the Servlet method must be used</p>
<h2><a class="anchor" id="classic-method"></a>
"Classic" method</h2>
<p>To create a routing in the classic method you create a class that extends the Servlet base class, the constructor MUST have two parameters : Request and Response, and pass them to the base class The new class also needs the <b>Binding Attribute,</b> that requires a string (the path) and optionally a boolean indicating whether or not that servlet must handle all routes starting with the given path. Example:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test{</div>
<div class="line">    [<a class="code hl_class" href="class_h_s_b_1_1_binding.html">Binding</a>(<span class="stringliteral">&quot;/&quot;</span>)]</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>Route: <a class="code hl_class" href="class_h_s_b_1_1_servlet.html">Servlet</a>{</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> Route(<a class="code hl_class" href="class_h_s_b_1_1_request.html">Request</a> req, <a class="code hl_class" href="class_h_s_b_1_1_response.html">Response</a> res): base(req, res){}</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> ProcessGet()</div>
<div class="line">        {</div>
<div class="line">             res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#a95d557def4c8f20e9bcf69731ea94676">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    </div>
<div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> ProcessPost()</div>
<div class="line">        {</div>
<div class="line">            res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#a95d557def4c8f20e9bcf69731ea94676">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_h_s_b_1_1_binding_html"><div class="ttname"><a href="class_h_s_b_1_1_binding.html">HSB.Binding</a></div><div class="ttdoc">Defines the path of the servlet, optionally it can catch ALL the requests that search for path starti...</div><div class="ttdef"><b>Definition</b> <a href="_binding_attribute_8cs_source.html#l00009">BindingAttribute.cs:10</a></div></div>
<div class="ttc" id="aclass_h_s_b_1_1_servlet_html"><div class="ttname"><a href="class_h_s_b_1_1_servlet.html">HSB.Servlet</a></div><div class="ttdef"><b>Definition</b> <a href="_h_s_b_2_components_2_servlet_8cs_source.html#l00005">Servlet.cs:6</a></div></div>
</div><!-- fragment --><p>This class maps to the root path and responds to the GET and POST methods, <b>other methods reply, by default, with code 405 (Method not allowed)</b></p>
<p>Additionally the Servlet can have one more argument in is constructor, the configuration:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test{</div>
<div class="line">    [<a class="code hl_class" href="class_h_s_b_1_1_binding.html">Binding</a>(<span class="stringliteral">&quot;/&quot;</span>)]</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>Route: <a class="code hl_class" href="class_h_s_b_1_1_servlet.html">Servlet</a>{</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> Route(<a class="code hl_class" href="class_h_s_b_1_1_request.html">Request</a> req, <a class="code hl_class" href="class_h_s_b_1_1_response.html">Response</a> res, <a class="code hl_class" href="class_h_s_b_1_1_configuration.html">Configuration</a> c): base(req, res, c){}</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> ProcessGet()</div>
<div class="line">        {</div>
<div class="line">             res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#a95d557def4c8f20e9bcf69731ea94676">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    </div>
<div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> ProcessPost()</div>
<div class="line">        {</div>
<div class="line">            res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#a95d557def4c8f20e9bcf69731ea94676">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="custom-method-handling"></a>
Custom method handling</h2>
<p>To handle a request with a non standard HTTP Request method, yuor server must map the handler function. For example: </p><div class="fragment"><div class="line"><span class="keyword">import</span> <a class="code hl_namespace" href="namespace_h_s_b.html">HSB</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test{</div>
<div class="line">    [<a class="code hl_class" href="class_h_s_b_1_1_binding.html">Binding</a>(<span class="stringliteral">&quot;/&quot;</span>)]</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>Route: <a class="code hl_class" href="class_h_s_b_1_1_servlet.html">Servlet</a>{</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">public</span> Route(<a class="code hl_class" href="class_h_s_b_1_1_request.html">Request</a> req, <a class="code hl_class" href="class_h_s_b_1_1_response.html">Response</a> res, <a class="code hl_class" href="class_h_s_b_1_1_configuration.html">Configuration</a> c): base(req, res, c){</div>
<div class="line">            AddCustomMethodHandler(<span class="stringliteral">&quot;MyCustomHTTPMethod&quot;</span>, ProcessMyCustomHTTPMethod);</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">private</span> <span class="keywordtype">void</span> ProcessMyCustomHTTPMethod()</div>
<div class="line">        {</div>
<div class="line">            res.<a class="code hl_function" href="class_h_s_b_1_1_response.html#a95d557def4c8f20e9bcf69731ea94676">SendHTMLContent</a>(<span class="stringliteral">&quot;&lt;h1&gt;Hello&lt;/h1&gt;&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>This code will handle ONLY the requests that have the method "MyCustomHTTPMethod". Example request header: </p><div class="fragment"><div class="line">MyCustomHTTPMethod / HTTP/1.1</div>
</div><!-- fragment --><p>Both the ExpressJS-like mapping and Servlet class contains a reference to the "Request" and "Response" class, optionally they can also hold the Configuration. Details about the Request class can be found <a class="el" href="md__documentation_2_request.html">here</a>, while for Response <a class="el" href="md__documentation_2_response.html">here</a></p>
<p>All information about ExpressJS mapping and Servlet are available here</p>
<hr  />
 <h1><a class="anchor" id="ssl"></a>
SSL</h1>
<p>To make <a class="el" href="namespace_h_s_b.html">HSB</a> use the SSL/TLS mode you must provide a valid certificate and modify the configuration. See <a class="el" href="md__documentation_2_s_s_l.html">set SSL </a> for more information</p>
<h1><a class="anchor" id="websocket"></a>
WebSocket</h1>
<p><a class="el" href="namespace_h_s_b.html">HSB</a> support the creation of WebSockets, these follow a structure similar to the servlets but with different functions for sending data A complete guide is available <a class="el" href="md__documentation_2_web_sockets.html">here</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
